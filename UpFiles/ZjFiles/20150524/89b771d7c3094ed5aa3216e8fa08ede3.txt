
 <script src="http://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>

NameValueCollection queryString

JsonConvert.SerializeObject

Session["Xh"] = (Xh.Checked == true) ? 1 : 0;

cmd.ExecuteDataTable();  
cmd.ExecuteScalar(); 
cmd.ExecuteNonResult();

string类型保留两位小数  ToString("f2")

	cmd.CommandText = string.Format("select * from Hys_Sq where id=@id");
	cmd.AddParameter("id",DbType.String).Value = id;



抛出异常：throw new Exception("字符串转化int类型失败");

***************************ToString() 12小时和24小时制
12小时 ToString("hh:mm")
24小时 ToString("HH:mm")

***************************
截取字符
Substring(开始位数截取,共要截取几个数)
string st="14-123";

截取“-”前面有几位：int last = st.IndexOf("-");  last=2
截取“-”后面的全面内容：string str = st.Substring(3);  str="123"
Split

insert into [User] (UserId,Name,LoginName,Pwd)values(5,123,31321,1);

通过拼音搜中文
http://zhidao.baidu.com/link?url=e4n6iGTlRLAHwUPX1mCOkP2dgRZ9Du9WOdyaMjetdgdL3B4UkKTiF0jn-r2nmi1BbN2QEIKmZUitaqdZHGwAY_

SQL排序
用 DESC 表示按倒序排序(即：从大到小排序)
用 ACS   表示按正序排序(即：从小到大排序)
Order By CreateTime asc

input多行TextMode="MultiLine"

CurrentUser.UserID

Response.Write("<script type='text/javascript'>alert('请勾选处置资产')</" + "script>");
用C#来关闭页面：Response.Write("<script type='text/javascript'>window.top.opener = null; window.close();</" + "script>"); 


string str = "请输入内容";
Response.Write("<script type='text/javascript'>alert(\"原因："+ str+ "\")</" + "script>");


数据事件中
Context.Response.Write("<script type='text/javascript'>alert('请勾选处置资产')</" + "script>");

弹出一个框后，点击确定跳转到页面
 Response.Write("<script type='text/javascript'>alert('请勾选');window.location.href='/UpFiles/CustomModule/Cabz_Kfxjj.Aspx?';</" + "script>");
Session.Remove("yssq");//清空session
Response.End();  结束，下面的代码将不再执行


获取URL参数
string bh= Request.QueryString["bh"];

height=500,width=400,top=100,left=200,toolbar=yes,menubar=yes,scrollbars=yes, resizable=no,location=no, status=no


时间比较，前面-后面  int a = DateTime.Compare(dt,DateTime.Now);

C#时间比较计算：http://m.blog.csdn.net/blog/runandrun_11109/5279787


<script>
			function popChild(){ 
				window.open('/UpFiles/CustomModule/Ppxz.Aspx?','Child','height=500,width=400,top=100,left=600,toolbar=yes,menubar=yes,scrollbars=yes, resizable=no,location=no, status=no') ;
				
			} 
</script>




cmd.CommandText = "select * from Xyk where zt = @zt";
cmd.AddParameter("zt", DbType.Int32).Value = zt;




json返回的时间乱码转化  /Date(1354648740000)/

  function ChangeDateFormat(val) {
            if (val != null) {
                var date = new Date(parseInt(val.replace("/Date(", "").replace(")/", ""), 10));
                //月份为0-11，所以+1，月份小于10时补个0
                var month = date.getMonth() + 1 < 10 ? "0" + (date.getMonth() + 1) : date.getMonth() + 1;
                var currentDate = date.getDate() < 10 ? "0" + date.getDate() : date.getDate();
                if (date.getHours() < 10)
                    hour = "0" + date.getHours();
                else
                    hour = date.getHours();
                if (date.getMinutes() < 10)
                    min = "0" + date.getMinutes();
                else
                    min = date.getMinutes();
                //return date.getFullYear() + "-" + month + "-" + currentDate + " " + hour + ":" + min;
                return date.getFullYear() + "-" + month + "-" + currentDate;
            }

            return "";
        }




 var html = "";
            $.ajax({
                type: "get",
                url: "webservice/toIdGetList.ashx?act=list_all",// 跳转到 action 
                contentType: "application/json",
                dataType: "json",
                async: false, //默认为true 异步
                success: function (result) {
                    html += " <tr>";
                    html += "<td width=\"5%\" class=\"tb_content bt\">序号</td>";
                    html += "<td width=\"25%\" class=\"tb_content bt\">提交时间</td>";
                    html += "<td width=\"50%\" class=\"tb_content bt\">标题</td>";
                    html += "<td width=\"10%\" class=\"tb_content bt\">状态</td>";
                    html += "<td width=\"10%\" class=\"tb_content bt\">操作</td>";
                    html += " </tr>";
                    for (var i in result) {
                        var j = i + 1;
                        html += " <tr>";
                        html += "<td class=\"tb_content\">" + i + "</td>";
                        html += "<td class=\"tb_content\">" + result[i].sj + "</td>";
                        html += "<td class=\"tb_content\">" + result[i].lybt + "</td>";
                        html += "<td class=\"tb_content\">" + result[i].zt + "</td>";
                        html += "<td class=\"tb_content\"></td>";
                        html += " </tr>";
                    }
                    document.getElementById("content").innerHTML = html;
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert("XMLHttpRequest：" + XMLHttpRequest.readyState + ";;;textStatus：" + XMLHttpRequest.status + ";;;errorThrown：" + errorThrown);
                }

            });





var FlowID=getUrlParam("FlowID");
var ProcessId=getUrlParam("ProcessId");

//通过js来拿到URL  http://svr.jucher.com:8071/WorkFlow/WFSend.aspx?FlowID=172&ProcessId=65
		function getUrlParam(name)
		{
			var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
			var r = window.location.search.substr(1).match(reg);  //匹配目标参数
			if (r!=null) return unescape(r[2]); return null; //返回参数值  decodeURIComponent
			//注：如果是中午unescape(r[2])则会是乱码  请用decodeURIComponent(r[2])来代替
			
		} 



fancybox使用路径：不需要把图片放进去 Css 和 js 都是根目录

<link href="/Css/fancybox.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="../js/jquery.fancybox-1.3.1.pack.js"></script>
<script type="text/javascript">
$(function(){

	$(".iframe").fancybox({
		'width':'50%',
		'height':'50%',
		'autoScale':false
	});
});
</script>


C#添加和更新数据方式


 string service1 = "Data Source=.;Initial Catalog=Yzglj;User Id=pex;Password=pex2010";
            using (SqlConnection sqlConnection = new SqlConnection(service1))
            {
                sqlConnection.Open();

               // SqlCommand cmd = new SqlCommand("select * from gzzg", sqlConnection);
                SqlDataAdapter cmd = new SqlDataAdapter("select * from gzzb where 1=0", sqlConnection);
                DataSet ds = new DataSet();
                SqlCommandBuilder cb = new SqlCommandBuilder(cmd);
                cmd.Fill(ds);
                DataTable table = ds.Tables[0].Copy();
                DataRow dr = table.NewRow();
                dr["fbm"] = "1";
                table.Rows.Add(dr);
                cmd.Update(table);
               // ds.AcceptChanges();
                     
            }


添加数据方式一：
	cmd.CommandText = "select * from 表名 where 1=0";
	DataTable table = cmd.ExecuteDataTable();
	DataRow dr = table.NewRow();
	dr["字段名1"] = "1";
	dr["字段名2"] = "2";

	table.Rows.Add(dr);
	cmd.Update(table);
	
添加数据方式二：
	cmdd.CommandText = string.Format("select * from Lcdl_Dl where Dl_Time='{0}' ",dt.ToShortDateString());
	DataTable table = cmdd.ExecuteDataTable();
	DataRow dr = table.NewRow();
	table.Rows.Add(dr);
	
	dr["字段名1"] = "1";
	dr["字段名2"] = "2";
	
	cmdd.Update(table);
	

数据更新：
	cmdd.CommandText = string.Format("select * from Lcdl_Dl where Dl_Time='{0}' ",dt.ToShortDateString());
	DataTable table = cmdd.ExecuteDataTable();
	DataRow dr = table.Rows[0];
	
	dr["字段名1"] = "1";
	dr["字段名2"] = "2";
	
	cmdd.Update(table);


C#连接 SQL数据获得表或是更新数据

获得一张表方法一： SqlDataAdapter
			using (SqlConnection sqlConnection = new SqlConnection(str))
            {
                sqlConnection.Open();
                string sql = "select * from SystemUsers";
                SqlDataAdapter sqlCmd = new SqlDataAdapter(sql, sqlConnection);
                DataSet ds = new DataSet();
                sqlCmd.Fill(ds, "SystemUsers");
                DataTable table = ds.Tables["SystemUsers"];
                int count = table.Rows.Count;

                sqlConnection.Close();
            }
			
获得一张表方法二：SqlDataAdapter
			using (SqlConnection sqlConnection = new SqlConnection(str))
            {
                sqlConnection.Open();
                string sql = "select * from SystemUsers";
                SqlDataAdapter sqlCmd = new SqlDataAdapter(sql, sqlConnection);
                DataSet ds = new DataSet();
                sqlCmd.Fill(ds);
                DataTable table = ds.Tables[0].Copy();
                int count = table.Rows.Count;

                sqlConnection.Close();
            }
			
更新数据库的字段：  SqlCommand
		 using(SqlConnection sqlconnection = new SqlConnection(str))
            {
                sqlconnection.Open();
                for(int i=0; i<table.Rows.Count;i++)
                {
                    SqlCommand sqlcmd = new SqlCommand(string.Format("update SystemUsers set Note='{0}' where LoginID='{1}'",table.Rows[i]["Note"].ToString(),table.Rows[i]["LoginID"].ToString()),sqlconnection);
                    sqlcmd.ExecuteNonQuery();
                }

                sqlconnection.Close();
                
            }
		
		


